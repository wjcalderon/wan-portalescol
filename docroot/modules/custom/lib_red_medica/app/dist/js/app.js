(function(){"use strict";var e={7634:function(e,t,s){var i=s(5471),a=function(){var e=this,t=e._self._c;return t("div",{ref:"main",class:[this.isMobile?"mobile":"","bootstrap-wrapper"],attrs:{id:"app"}},[t("network-form",{ref:"network_form",attrs:{plan_list:e.plan_list,isMobile:this.isMobile},on:{search:function(t){e.show_results=!0},reset:function(t){e.show_results=!1},hideResults:e.hideResults}}),t(e.showResults,{tag:"component",attrs:{isMobile:this.isMobile},on:{reset:e.newSearch}})],1)},l=[];const o={data:function(){return{isMobile:!1}},mounted:function(){window.innerWidth<=768&&(this.isMobile=!0),window.onresize=()=>{window.innerWidth<=768?this.isMobile=!0:this.isMobile=!1}}};var n=o,r=function(){var e=this,t=e._self._c;return t("section",{ref:"form_container",class:["medical-network-form-container",e.isMobile?"mobile":""]},[t("form",{ref:"search_form",class:["medical-network-form","cog--mq",e.isMobile?"mobile":""],attrs:{method:"post",autocomplete:"off"},on:{submit:e.searchMedicalNetwork}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.isMobile&&e.selected_plan_tids,expression:"isMobile && selected_plan_tids"}],class:["back"],on:{click:e.resetForm}},[e._v(" Atrás ")]),t("fieldset",{class:["plan-types","row"]},[t("legend"),e._l(e.list,(function(s,i){return t("div",{key:i,class:["form-item","col-sm-12","col-md-6",e.isMobile&&e.selected_plan==s.tid?"selected":null==e.selected_plan?"":"hide-mobile"]},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_plan,expression:"selected_plan"}],staticClass:"form-radio",attrs:{type:"radio",id:`plan-type-${i}`,name:"plan_type"},domProps:{value:s.tid,checked:e._q(e.selected_plan,s.tid)},on:{change:function(t){e.selected_plan=s.tid}}}),t("label",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:{content:s.description,class:"custom-tooltip"},expression:"{\n            content: plan.description,\n            class: 'custom-tooltip',\n          }",modifiers:{top:!0}}],staticClass:"option",attrs:{for:`plan-type-${i}`}},[e._v(" "+e._s(s.name)+" ")])])}))],2),t("fieldset",{class:["form-lists","row",e.selected_plan_tids?"":"hide-mobile"]},[t("legend"),t("div",{staticClass:"form-item js-form-type-select form-type-select form-item-search-institution col-sm-12 col-md-5"},[t("label",{attrs:{for:"search-institution"}},[e._v(" Nombre de la institución o especialista ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_institution,expression:"selected_institution"}],staticClass:"search-institution form-select",attrs:{type:"text",id:"search-institution",list:"institutionsList",disabled:!e.selected_plan},domProps:{value:e.selected_institution},on:{click:function(t){e.selected_institution=null},input:function(t){t.target.composing||(e.selected_institution=t.target.value)}}}),t("datalist",{attrs:{id:"institutionsList"}},e._l(e.institutions_list,(function(s,i){return t("option",{key:i},[e._v(" "+e._s(s.title)+" ")])})),0)]),t("div",{staticClass:"form-item js-form-type-select form-type-select form-item-search-city col-sm-12 col-md-3 col-md-offset-1"},[t("label",{attrs:{for:"search-city"}},[e._v("Ciudad")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_city,expression:"selected_city"}],staticClass:"search-city form-select",attrs:{type:"text",id:"search-city",list:"citiesList",disabled:!e.selected_plan,autocomplete:"off"},domProps:{value:e.selected_city},on:{input:[function(t){t.target.composing||(e.selected_city=t.target.value)},e.selectCity],click:function(t){e.selected_city=null,e.selected_city_tid=null,e.selected_speciality=null,e.selected_speciality_tid=null}}}),t("datalist",{attrs:{id:"citiesList"}},e._l(e.cities_list,(function(s,i){return t("option",{key:i,attrs:{"data-value":s.tid}},[e._v(" "+e._s(s.name)+" ")])})),0)]),t("div",{staticClass:"form-item js-form-type-select form-type-select form-item-search-speciality col-sm-12 col-md-3"},[t("label",{attrs:{for:"search-speciality"}},[e._v("Especialidad")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_speciality,expression:"selected_speciality"}],staticClass:"search-speciality form-select",attrs:{type:"text",id:"search-speciality",list:"specialityList",disabled:!e.selected_city_tid},domProps:{value:e.selected_speciality},on:{click:function(t){e.selected_speciality=null,e.selected_speciality_tid=null},input:[function(t){t.target.composing||(e.selected_speciality=t.target.value)},e.selectSpeciality]}}),t("datalist",{attrs:{id:"specialityList"}},e._l(e.specialities_list,(function(s,i){return t("option",{key:i,attrs:{"data-value":s.tid}},[e._v(" "+e._s(s.name)+" ")])})),0)])]),t("fieldset",{class:["filter-icons","row",e.selected_plan_tids?"":"hide-mobile"]},[t("legend"),t("div",{class:["col-sm-12","col-md-6","row",e.isMobile?"":"col-md-offset-6"]},[t("p",{staticClass:"col-sm-12"},[e._v("Haz clic en los iconos para filtrar")]),t("div",{staticClass:"form-item form-item-search-telemedicine col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search_telemedicine,expression:"search_telemedicine"}],attrs:{type:"checkbox",name:"search_telemedicine",id:"search-telemedicine",disabled:!e.selected_speciality_tid},domProps:{checked:Array.isArray(e.search_telemedicine)?e._i(e.search_telemedicine,null)>-1:e.search_telemedicine},on:{change:function(t){var s=e.search_telemedicine,i=t.target,a=!!i.checked;if(Array.isArray(s)){var l=null,o=e._i(s,l);i.checked?o<0&&(e.search_telemedicine=s.concat([l])):o>-1&&(e.search_telemedicine=s.slice(0,o).concat(s.slice(o+1)))}else e.search_telemedicine=a}}}),t("label",{attrs:{for:"search-telemedicine"}},[e._v("Telemedicina")])]),t("div",{staticClass:"form-item form-item-search-institutions col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search_category,expression:"search_category"}],attrs:{type:"radio",value:"1",id:"search-institutions",disabled:!e.selected_speciality_tid},domProps:{checked:e._q(e.search_category,"1")},on:{click:function(t){if(t.target!==t.currentTarget)return null;null!=e.search_category&&(e.search_category=null)},change:function(t){e.search_category="1"}}}),t("label",{attrs:{for:"search-institutions"}},[e._v("Instituciones")])]),t("div",{staticClass:"form-item form-item-search-specialists col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search_category,expression:"search_category"}],attrs:{type:"radio",value:"2",id:"search-specialists",disabled:!e.selected_speciality_tid},domProps:{checked:e._q(e.search_category,"2")},on:{click:function(t){if(t.target!==t.currentTarget)return null;null!=e.search_category&&(e.search_category=null)},change:function(t){e.search_category="2"}}}),t("label",{attrs:{for:"search-specialists"}},[e._v("Especialistas")])])])]),t("fieldset",{class:["bottom-form","row",e.selected_plan_tids?"":"hide-mobile"]},[t("div",{staticClass:"form-item form-type-checkbox form-item-search-telemedicine col-md-3 col-sm-12"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search_near,expression:"search_near"}],attrs:{type:"checkbox",name:"search_near",id:"search-near",disabled:!e.selected_speciality_tid},domProps:{checked:Array.isArray(e.search_near)?e._i(e.search_near,null)>-1:e.search_near},on:{change:function(t){var s=e.search_near,i=t.target,a=!!i.checked;if(Array.isArray(s)){var l=null,o=e._i(s,l);i.checked?o<0&&(e.search_near=s.concat([l])):o>-1&&(e.search_near=s.slice(0,o).concat(s.slice(o+1)))}else e.search_near=a}}}),t("label",{attrs:{for:"search-near"}},[e._v("Buscar cerca de mi")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.error_location,expression:"error_location"}],staticClass:"error error-message"},[e._v(" ¡No esta habilitado el acceso a la ubicación! ")])]),t("div",{staticClass:"col-md-5 col-sm-12"},[t("input",{ref:"searchButton",staticClass:"button",attrs:{type:"submit",value:"Buscar"},on:{click:function(t){e.searchMedicalNetwork&&e.$emit("search")},search:e.searchMedicalNetwork}})]),t("span",{staticClass:"glossary-link col-md-4 col-sm-12",on:{click:function(t){e.show_glossary=!0}}},[e._v(" Glosario de especialidades ")]),t(e.showGlossary,{tag:"component",attrs:{isMobile:e.isMobile},on:{close:function(t){e.show_glossary=!1}}})],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show_preferential,expression:"show_preferential"}],class:["preferential-medical-network","cog--mq",e.isMobile?"mobile":""]},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.isMobile&&e.selected_plan_tids,expression:"isMobile && selected_plan_tids"}],class:["back"],on:{click:e.showForm}},[e._v(" Mostrar filtros ")]),t("div",{staticClass:"row"},[t("h4",{staticClass:"title col-md-4 col-xs-4"},[e._v("Red Médica Preferencial")]),t("span",{staticClass:"institutions col-md-3 col-xs-4"},[e._v("Instituciones")]),t("span",{staticClass:"specialists col-md-3 col-xs-4"},[e._v("Especialistas")]),t("span",{staticClass:"info col-md-2 col-xs-12",on:{click:function(t){e.show_preferential_help=!0}}},[e._v(" Ver información ")]),t(e.preferentialHelp,{tag:"component",attrs:{isMobile:e.isMobile},on:{close:function(t){e.show_preferential_help=!1}}})],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show_preferential,expression:"show_preferential"}],class:["selected-filters","cog--mq",e.isMobile?"mobile":""]},[t("ul",[t("li",{directives:[{name:"show",rawName:"v-show",value:e.selected_institution,expression:"selected_institution"}]},[e._v(" "+e._s(e.selected_institution)+" "),t("span",{on:{click:[function(t){if(t.target!==t.currentTarget)return null;e.selected_institution=null,e.selected_institution=null},function(t){return e.search()}]}},[e._v(" X ")])]),t("li",{directives:[{name:"show",rawName:"v-show",value:e.selected_city_tid,expression:"selected_city_tid"}]},[e._v(" "+e._s(e.selected_city)+" "),t("span",{on:{click:[function(t){if(t.target!==t.currentTarget)return null;e.selected_city_tid=null,e.selected_city=null},function(t){return e.search()}]}},[e._v(" X ")])]),t("li",{directives:[{name:"show",rawName:"v-show",value:e.selected_speciality_tid,expression:"selected_speciality_tid"}]},[e._v(" "+e._s(e.selected_speciality)+" "),t("span",{on:{click:[function(t){if(t.target!==t.currentTarget)return null;e.selected_speciality_tid=null,e.selected_speciality=null},function(t){return e.search()}]}},[e._v(" X ")])]),t("li",{directives:[{name:"show",rawName:"v-show",value:e.search_telemedicine,expression:"search_telemedicine"}]},[e._v(" Telemedicina "),t("span",{on:{click:[function(t){if(t.target!==t.currentTarget)return null;e.search_telemedicine=null},function(t){return e.search()}]}},[e._v(" X ")])]),t("li",{directives:[{name:"show",rawName:"v-show",value:1==e.search_category,expression:"search_category == 1"}]},[e._v(" Instituciones "),t("span",{on:{click:[function(t){if(t.target!==t.currentTarget)return null;e.search_category=null},function(t){return e.search()}]}},[e._v("X")])]),t("li",{directives:[{name:"show",rawName:"v-show",value:2==e.search_category,expression:"search_category == 2"}]},[e._v(" Especialistas "),t("span",{on:{click:[function(t){if(t.target!==t.currentTarget)return null;e.search_category=null},function(t){return e.search()}]}},[e._v("X")])])])])])},c=[],d=(s(4114),s(2505)),u=s.n(d);const p=window.drupalSettings.medicalNetwork.dataBasePath+"/",m=p+"api/medical-network/";class _{async get(e,t){return u().get(m+e+(void 0!=t?t:"")).then((e=>e.data)).catch((e=>{console.log(e)}))}async getCsrfToken(){return u().get(p+"session/token").then((e=>e.data)).catch((e=>{console.log(e)}))}async postWebForm(e,t){return u().post(p+"webform_rest/submit/?_format=json",e,{headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":t}}).then((e=>e.data)).catch((e=>{console.log(e)}))}}var h=new _,f=function(){var e=this,t=e._self._c;return t("section",{class:["glossary","modal",e.isMobile?"mobile modal-white":""]},[t("div",{staticClass:"modal-content"},[t("button",{directives:[{name:"show",rawName:"v-show",value:!e.isMobile,expression:"!isMobile"}],staticClass:"close-modal",on:{click:function(t){return e.$emit("close")}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isMobile,expression:"isMobile"}],staticClass:"back",on:{click:function(t){return e.$emit("close")}}},[e._v("Atrás")]),t("h3",[e._v("Glosario de especialidades")]),t("p",[e._v("Conoce las especialidades que en la red médica de HDI Seguros Colombia tenemos disponibles para ti.")]),t("ul",{staticClass:"tabs"},e._l(e.tabs,(function(s,i){return t("li",{key:i,class:{"is-active":s.is_active},on:{click:function(t){return e.selectTab(s.id)}}},[e._v(e._s(s.title))])})),0),t(e.currentTab,{key:e.selected_tab,tag:"component",attrs:{letters:e.selected_letters}})],1)])},v=[],w=(s(8992),s(3949),function(){var e=this,t=e._self._c;return t("section",{staticClass:"tab-content"},e._l(e.resultArr,(function(s,i){return t("ul",{key:i},[t("li",{staticClass:"letter"},[e._v(e._s(s.letter))]),t("ul",e._l(s.list,(function(s,i){return t("div",{key:i},[t("li",{staticClass:"term"},[e._v(e._s(s.item))]),t("li",[e._v(e._s(s.description))])])})),0)])})),0)}),y=[],g={name:"GlossaryDetails",data:function(){return{results:[]}},props:["letters"],computed:{resultArr:function(){return this.results.concat().sort(this.sortBy("index"))}},created:function(){this.letters.forEach(((e,t)=>{this.getGlossary(e,t)}))},methods:{sortBy:function(e){return(t,s)=>t[e]>s[e]?1:s[e]>t[e]?-1:0},getGlossary:function(e,t){h.get("glossary?","glossary_letter="+e).then((s=>{let i={index:t,letter:e,list:s};i.list.length>0&&this.results.push(i)}))}}},b=g,k=s(1656),C=(0,k.A)(b,w,y,!1,null,null,null),x=C.exports,M={name:"Glossary",data:function(){return{selected_letters:null,selected_tab:null,tabs:[{id:"tab_1",title:"A-C",letters:["A","B","C"],is_active:!1},{id:"tab_2",title:"D-F",letters:["D","E","F"],is_active:!1},{id:"tab_3",title:"G-K",letters:["G","H","I","J","K"],is_active:!1},{id:"tab_4",title:"L-Ñ",letters:["L","M","N"],is_active:!1},{id:"tab_5",title:"O-Q",letters:["O","P","Q"],is_active:!1},{id:"tab_6",title:"R-T",letters:["R","S","T"],is_active:!1},{id:"tab_7",title:"U-Z",letters:["U","V","W","X","Y","Z"],is_active:!1}]}},components:{GlossaryDetails:x},props:["isMobile"],computed:{currentTab:function(){return x}},created:function(){this.selectTab("tab_1")},methods:{selectTab(e){this.tabs.forEach((t=>{t.is_active=!1,t.id==e&&(t.is_active=!0,this.selected_tab=t.id,this.selected_letters=t.letters)}))}}},N=M,S=(0,k.A)(N,f,v,!1,null,null,null),L=S.exports,A=function(){var e=this,t=e._self._c;return t("section",{class:["preferential-help","modal",e.isMobile?"mobile":""]},[t("div",{staticClass:"modal-content"},[t("button",{staticClass:"close-modal",on:{click:function(t){return e.$emit("close")}}}),t("h2",[e._v(e._s(this.drupalSettings.preferential.title))]),t("p",[e._v(e._s(this.drupalSettings.preferential.description))]),t("div",{staticClass:"modal-footer"},[t("button",{on:{click:function(t){return e.$emit("close")}}},[e._v("Cerrar")])])])])},T=[],$={name:"PreferentialHelp",props:["isMobile"],created:function(){this.drupalSettings=window.drupalSettings.medicalNetwork}},P=$,q=(0,k.A)(P,A,T,!1,null,null,null),F=q.exports,R={name:"NetworkForm",data:function(){return{list:[],cities_list:[],specialities_list:[],institutions_list:[],error_location:!1,selected_city:null,selected_city_tid:null,selected_speciality:null,selected_speciality_tid:null,selected_plan:null,selected_plan_tids:null,selected_institution:null,search_telemedicine:null,search_category:null,search_near:null,location_cordinates:null,show_glossary:!1,show_preferential:!1,show_preferential_help:!1}},props:["plan_list","isMobile"],components:{Glossary:L,PreferentialHelp:F},computed:{showGlossary:function(){return!0===this.show_glossary?(document.querySelector("html").classList.add("is-modal"),L):(document.querySelector("html").classList.remove("is-modal"),null)},preferentialHelp:function(){return this.show_preferential_help?(document.querySelector("html").classList.add("is-modal"),F):(document.querySelector("html").classList.remove("is-modal"),null)}},mounted:function(){this.setPlanTypes()},watch:{selected_plan:function(){this.isMobile||this.resetForm();for(let e in this.list)this.list[e].tid===this.selected_plan&&(this.selected_plan_tids=this.list[e].tids);this.selected_plan&&(this.isMobile&&(document.querySelector("html").classList.add("is-modal"),this.$refs.form_container.classList.add("modal-white")),this.citieslist())},selected_institution:function(){this.searchInstitution()},selected_city:function(){this.searchCity()},selected_speciality:function(){this.searchSpeciality()},search_near:function(){this.getGeolocation()}},created:function(){},methods:{setPlanTypes:function(){for(let e=0;e<this.plan_list.length;e++){let t={tid:this.plan_list[e].id,description:this.plan_list[e].description,name:null};h.get("plan/",this.plan_list[e].id).then((e=>{t.name=e[0].name,t.tids=e[0].tid})),this.list.push(t)}},citieslist:function(){h.get("cities/",this.selected_plan).then((e=>{this.cities_list=e}))},specialitylist:function(){h.get("specialities/",this.selected_plan+"/"+this.selected_city_tid).then((e=>{this.specialities_list=e}))},searchCity:function(){this.selected_plan&&this.selected_city&&!this.selected_city_tid&&h.get("cities/",this.selected_plan+"/"+this.selected_city).then((e=>{this.cities_list=e}))},searchSpeciality:function(){this.selected_city_tid&&!this.selected_speciality_tid&&h.get("specialities/",this.selected_plan+"/"+this.selected_city_tid+"/"+this.selected_speciality).then((e=>{this.specialities_list=e}))},searchInstitution:function(){this.selected_plan&&this.selected_institution&&h.get("institutions/",this.selected_plan+"/"+this.selected_institution).then((e=>{this.institutions_list=e}))},selectCity:function(e){for(let t in this.cities_list)this.cities_list[t].name===e.target.value&&(this.selected_city_tid=this.cities_list[t].tid);this.specialitylist()},selectSpeciality:function(e){for(let t in this.specialities_list)this.specialities_list[t].name=this.specialities_list[t].name.trim().slice(0,this.specialities_list[t].name.trimRight().length),this.specialities_list[t].name===e.target.value&&(this.selected_speciality_tid=this.specialities_list[t].tid)},getGeolocation:function(){this.search_near&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{let t=window.drupalSettings.medicalNetwork.max_distance;this.location_cordinates=e.coords.latitude+","+e.coords.longitude+"<="+t+"km"}),(()=>{this.error_location=!0,this.location_cordinates={},this.search_near=null}))},searchMedicalNetwork:function(e){e.preventDefault(),this.search(),this.isMobile&&(document.querySelector("html").classList.remove("is-modal"),this.$refs.form_container.classList.remove("modal-white"),this.$refs.search_form.classList.add("hide-mobile"))},search:function(){this.show_preferential=!0,this.$store.commit("resetSearch");let e={plan_id:this.selected_plan_tids,ubication_id:this.selected_city_tid,speciality_id:this.selected_speciality_tid,institution_name:this.selected_institution,page:0,show_results:!0};this.search_telemedicine&&(e["telemedicine"]=1),this.search_category&&(e["category"]=this.search_category),this.search_near&&(e["map_proximity"]=this.location_cordinates),this.selected_city_tid||this.selected_institution||(this.show_preferential=!1),this.$store.commit("setSearchData",e)},resetForm:function(){document.querySelector("html").classList.remove("is-modal"),this.$refs.form_container.classList.remove("modal-white"),this.isMobile&&(this.selected_plan=null,this.selected_plan_tids=null,this.$refs.search_form.classList.remove("hide-mobile")),this.cities_list=[],this.specialities_list=[],this.institutions_list=[],this.error_location=!1,this.selected_city=null,this.selected_city_tid=null,this.selected_speciality=null,this.selected_speciality_tid=null,this.selected_institution=null,this.search_telemedicine=null,this.search_category=null,this.search_near=null,this.location_cordinates=null,this.show_glossary=!1,this.show_preferential=!1,this.show_preferential_help=!1,this.$emit("reset")},showForm:function(){this.$refs.search_form.classList.remove("hide-mobile"),this.$refs.form_container.classList.add("modal-white"),this.show_preferential=!1,this.$emit("hideResults")}}},j=R,z=(0,k.A)(j,r,c,!1,null,null,null),I=z.exports,E=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"show",rawName:"v-show",value:e.show_results,expression:"show_results"}],class:["medical-network-result-container",e.isMobile?"mobile":""],attrs:{id:"medical-network-result-container"}},[t("div",{staticClass:"cog--mq"},[t("div",{staticClass:"actions row"},[t("button",{class:["show-results","col-md-2","col-xs-6",e.show_results_list?"active":""],attrs:{disabled:e.show_no_results},on:{click:e.searchList}},[e._v(" Ver listado ")]),t("button",{class:["show-map","col-md-2","col-xs-6",e.show_results_map?"active":""],attrs:{disabled:e.show_no_results},on:{click:e.searchMap}},[e._v(" Ver mapa ")]),t("span",{staticClass:"total-results col-md-6 col-xs-12"},[e._v(" Hemos encontrado "+e._s(e.pager.total_items)+" resultado(s) para la búsqueda realizada ")])]),t(e.showResults,{tag:"component",attrs:{results:e.results,pager:e.pager,isMobile:e.isMobile}}),t(e.showMap,{tag:"component",attrs:{results:e.results}}),t(e.showNoResults,{tag:"component"}),t("button",{directives:[{name:"show",rawName:"v-show",value:e.isMobile,expression:"isMobile"}],staticClass:"new-search",on:{click:function(t){return e.$emit("reset")}}},[e._v(" Nueva busqueda ")])],1)])},O=[],D=function(){var e=this,t=e._self._c;return t("div",[e._l(e.results,(function(s,i){return t("single-result",{key:i,attrs:{data:s,isMobile:e.isMobile}})})),t("pager",{attrs:{pager_data:e.pager}})],2)},G=[],B=function(){var e=this,t=e._self._c;return t("article",{ref:"single_result",class:["search-result",e.isMobile?"mobile":""]},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.show_info,expression:"show_info"}],staticClass:"back",on:{click:e.closeInfo}},[e._v("Atrás")]),t("div",{class:["icon","category-"+e.data.field_lender_category,"On"==e.data.sticky?"preferential":""]}),t("div",{staticClass:"info"},[t("h3",[e._v(e._s(e.data.title))]),t("span",{class:["address"]},[e._v(e._s(e.data.field_network_address)+" - "+e._s(e.data.field_ubication))]),t("span",{class:["phone"]},[e._v(e._s(e.data.field_phone))]),t("span",{directives:[{name:"show",rawName:"v-show",value:""!=e.data.field_whatsapp,expression:"data.field_whatsapp != ''"}],class:["whatsapp"]},[e._v(e._s(e.data.field_whatsapp))]),t("span",{staticClass:"services"},[t("select",[t("option",[e._v("Servicios")]),e._l(e.services_list,(function(s,i){return t("option",{key:i},[e._v(e._s(s))])}))],2)]),t("span",{staticClass:"plan-type"},[e._v("Aplica para:")]),t("ul",e._l(e.plan_list,(function(s,i){return t("li",{key:i,class:`plan-type-${s.id}`},[e._v(e._s(s.name))])})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isMobile&&!e.show_info,expression:"isMobile && !show_info"}],class:["mobile-actions"]},[t("div",{staticClass:"view-info",on:{click:e.viewInfo}},[e._v(" Ver información ")]),t("div",{staticClass:"show-map",on:{click:function(t){e.show_map=!0}}},[e._v(" Ver mapa ")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isMobile||e.show_info,expression:"!isMobile || show_info"}],class:["map"]},[t("div",{class:["show-map",e.isMobile?"hide-mobile":""],on:{click:function(t){e.show_map=!0}}},[e._v(" Ver mapa ")]),t("button",{staticClass:"button button-secondary report",on:{click:function(t){e.show_error_form=!0}}},[e._v("Reportar datos errados")])]),t(e.showMap,{tag:"component",attrs:{latLong:e.data.field_location_map.split(", "),data:e.data,services_list:e.services_list,plan_list:e.plan_list,isMobile:e.isMobile},on:{close:function(t){e.show_map=!1}}}),t(e.showErrorForm,{tag:"component",attrs:{lender_name:e.data.title,isMobile:e.isMobile},on:{close:function(t){e.show_error_form=!1}}})],1)},H=[],V=function(){var e=this,t=e._self._c;return t("section",{class:["map-result","modal",e.isMobile?"mobile":""]},[t("div",{staticClass:"modal-content"},[t("button",{staticClass:"close-modal",on:{click:function(t){return e.$emit("close")}}}),t("div",{attrs:{id:"map"}})])])},W=[],X=s(4869),K={name:"SingleMap",props:["latLong","data","services_list","plan_list","isMobile"],mounted:function(){const e=new X.aH({apiKey:window.drupalSettings.medicalNetwork.maps_api,version:"weekly",libraries:["places"]});e.load().then((()=>{const e={lat:parseFloat(this.latLong[0]),lng:parseFloat(this.latLong[1])},t=new window.google.maps.Map(document.getElementById("map"),{center:e,zoom:16,disableDefaultUI:!0,zoomControl:!0,scaleControl:!1,fullscreenControl:!1,streetViewControl:!1,rotateControl:!1});let s="";for(let n=0;n<this.services_list.length;n++)s+="<option>"+this.services_list[n]+"</option>";let i="";for(let n=0;n<this.plan_list.length;n++)i+='<li class="plan-type-'+this.plan_list[n].id+'">'+this.plan_list[n].name+"</li>";const a='<div class="info"><h3>'+this.data.title+'</h3><span class="address">'+this.data.field_network_address+'</span><span class="phone">'+this.data.field_phone+"</span>"+(""!=this.data.field_whatsapp?'<span class="whatsapp">'+this.data.field_whatsapp+"</span>":"")+'<span class="services"><select><option>Servicios</option>'+s+'</select></span><span class="plan-type">Aplica para:</span><ul>'+i+"</ul></div>",l=new window.google.maps.InfoWindow({content:a}),o=new window.google.maps.Marker({position:e,map:t,icon:window.drupalSettings.medicalNetwork.dataBasePath+"/themes/custom/liberty_public/images/icons/pin-map-red.svg"});l.open(t,o)}))}},U=K,Q=(0,k.A)(U,V,W,!1,null,null,null),Z=Q.exports,J=(s(1454),function(){var e=this,t=e._self._c;return t("section",{class:["error-form","modal",e.isMobile?"mobile modal-white":""]},[t("div",{class:["modal-content",e.show_confirmation?"small":""]},[t("button",{directives:[{name:"show",rawName:"v-show",value:!e.isMobile,expression:"!isMobile"}],staticClass:"close-modal",on:{click:function(t){return e.$emit("close")}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isMobile&&!e.show_confirmation,expression:"isMobile && !show_confirmation"}],staticClass:"back",on:{click:function(t){return e.$emit("close")}}},[e._v("Atrás")]),t("form",{directives:[{name:"show",rawName:"v-show",value:!e.show_confirmation,expression:"!show_confirmation"}],class:!!this.errors&&"errors",attrs:{method:"post",autocomplete:"off"},on:{submit:e.submitForm}},[e._m(0),t("div",{staticClass:"form-item js-form-type-text form-type-textfield form-item-lender form__input--activo"},[t("label",{attrs:{for:"lender"}},[e._v("Prestador")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lender,expression:"lender"}],staticClass:"form-text",attrs:{type:"text",disabled:"",id:"lender"},domProps:{value:e.lender},on:{input:function(t){t.target.composing||(e.lender=t.target.value)}}})]),t("div",{ref:"name",staticClass:"form-item js-form-type-text form-type-textfield form-item-name"},[t("label",{attrs:{for:"name"}},[e._v("Nombre")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-text",attrs:{type:"text",id:"name",required:"",maxlength:"30"},domProps:{value:e.name},on:{invalid:e.invalidateForm,change:function(t){return e.labelClass("name")},focus:function(t){return e.labelClass("name")},blur:function(t){return e.removeLabelClass(e.name,"name")},input:function(t){t.target.composing||(e.name=t.target.value)}}})]),t("div",{ref:"lastname",staticClass:"form-item js-form-type-text form-type-textfield form-item-lastname"},[t("label",{attrs:{for:"lastname"}},[e._v("Apellido")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lastname,expression:"lastname"}],staticClass:"form-text",attrs:{type:"text",id:"lastname",required:"",maxlength:"30"},domProps:{value:e.lastname},on:{invalid:e.invalidateForm,change:function(t){return e.labelClass("lastname")},focus:function(t){return e.labelClass("lastname")},blur:function(t){return e.removeLabelClass(e.lastname,"lastname")},input:function(t){t.target.composing||(e.lastname=t.target.value)}}})]),t("div",{ref:"email",staticClass:"form-item js-form-type-email form-type-email form-item-email"},[t("label",{attrs:{for:"email"}},[e._v("Correo electrónico")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-email",attrs:{type:"email",id:"email",required:""},domProps:{value:e.email},on:{invalid:e.invalidateForm,change:function(t){return e.labelClass("email")},focus:function(t){return e.labelClass("email")},blur:function(t){return e.removeLabelClass(e.email,"email")},input:function(t){t.target.composing||(e.email=t.target.value)}}})]),t("div",{ref:"error_type",staticClass:"form-item js-form-type-select form-type-select form-item-error_type"},[t("label",{attrs:{for:"error_type"}},[e._v("Tipo de error")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.error_type,expression:"error_type"}],staticClass:"form-select",attrs:{id:"error_type",required:""},on:{invalid:e.invalidateForm,change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.error_type=t.target.multiple?s:s[0]},function(t){return e.labelClass("error_type")}],focus:function(t){return e.labelClass("error_type")},blur:function(t){return e.removeLabelClass(e.error_type,"error_type")}}},[t("option",{attrs:{value:"",selected:"selected"}},[e._v("- Seleccionar -")]),t("option",{attrs:{value:"address"}},[e._v("Dirección")]),t("option",{attrs:{value:"phone"}},[e._v("Teléfono")]),t("option",{attrs:{value:"whatsapp"}},[e._v("WhatsApp")]),t("option",{attrs:{value:"services"}},[e._v("Servicios")]),t("option",{attrs:{value:"other"}},[e._v("Otros")])])]),t("div",{ref:"observation",staticClass:"form-item js-form-type-textarea form-type-textarea form-item-observation"},[t("label",{attrs:{for:"observation"}},[e._v("Observación…")]),t("div",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.observation,expression:"observation"}],staticClass:"form-textarea required",attrs:{id:"observation",rows:"5",cols:"60",autocomplete:"off"},domProps:{value:e.observation},on:{change:function(t){return e.labelClass("observation")},focus:function(t){return e.labelClass("observation")},blur:function(t){return e.removeLabelClass(e.observation,"observation")},input:function(t){t.target.composing||(e.observation=t.target.value)}}})])]),t("div",{staticClass:"form-item js-form-type-checkbox form-type-checkbox form-item-personal_data"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.authorize_personal_data_use,expression:"authorize_personal_data_use"}],attrs:{type:"checkbox",id:"personal_data"},domProps:{checked:Array.isArray(e.authorize_personal_data_use)?e._i(e.authorize_personal_data_use,null)>-1:e.authorize_personal_data_use},on:{change:function(t){var s=e.authorize_personal_data_use,i=t.target,a=!!i.checked;if(Array.isArray(s)){var l=null,o=e._i(s,l);i.checked?o<0&&(e.authorize_personal_data_use=s.concat([l])):o>-1&&(e.authorize_personal_data_use=s.slice(0,o).concat(s.slice(o+1)))}else e.authorize_personal_data_use=a}}}),t("label",{attrs:{for:"personal_data"}},[e._v(" Autorizo el uso de mis datos personales por parte de HDI Seguros Colombia S.A. "),t("a",{attrs:{href:e.personal_data_url,target:"_blank",rel:"noreferrer",title:"Política de tratamiento de datos de HDI Seguros Colombia"}},[e._v("de acuerdo a sus términos, condiciones y políticas de privacidad")])])]),t("fieldset",{staticClass:"bottom-form"},[t("legend"),t("div",[t("p",[e._v(" Te estaremos notificando cuando el error haya sido revisado y solucionado ")]),t("input",{staticClass:"button",attrs:{type:"submit",value:"Enviar",disabled:!e.authorize_personal_data_use&&!e.errors}})])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show_confirmation,expression:"show_confirmation"}],staticClass:"form-confirmation"},[t("div",{staticClass:"icon"}),t("h2",[e._v("Tu información ha sido enviada")]),t("button",{directives:[{name:"show",rawName:"v-show",value:e.isMobile,expression:"isMobile"}],on:{click:function(t){return e.$emit("close")}}},[e._v(" Volver a resultados ")])])])])}),Y=[function(){var e=this,t=e._self._c;return t("fieldset",{staticClass:"title"},[t("legend"),t("h2",[e._v("Reportar datos errados")]),t("p",[e._v(" Diligencia los siguientes datos y repórtanos el error que has evidenciado ")])])}],ee={name:"ErrorForm",data:function(){return{lender:this.lender_name,name:null,lastname:null,email:null,error_type:null,observation:null,errors:!1,authorize_personal_data_use:!1,personal_data_url:window.drupalSettings.medicalNetwork.personal_data_url,csrf_token:null,show_confirmation:!1}},props:["lender_name","isMobile"],created:function(){h.getCsrfToken().then((e=>{this.csrf_token=e}))},methods:{invalidateForm:function(){this.errors=!0},labelClass:function(e){this.$refs[e].classList.add("form__input--activo")},removeLabelClass:function(e,t){null==e&&this.$refs[t].classList.remove("form__input--activo")},submitForm:function(e){const t={lender:this.lender,name:this.name,lastname:this.lastname,email:this.email,error_type:this.error_type,observation:this.observation,authorize_personal_data_use:this.authorize_personal_data_use,webform_id:"reporte_de_datos_errados",in_draft:!1};h.postWebForm(t,this.csrf_token).then((()=>{this.show_confirmation=!0})),e.preventDefault()}}},te=ee,se=(0,k.A)(te,J,Y,!1,null,null,null),ie=se.exports,ae={name:"SingleResult",data:function(){return{services_list:[],plan_list:[],show_map:!1,show_error_form:!1,show_info:!1}},props:["data","isMobile"],components:{SingleMap:Z,ErrorForm:ie},computed:{showMap:function(){return this.show_map?(document.querySelector("html").classList.add("is-modal"),Z):(document.querySelector("html").classList.remove("is-modal"),!1)},showErrorForm:function(){return this.show_error_form?(document.querySelector("html").classList.add("is-modal"),ie):(document.querySelector("html").classList.remove("is-modal"),!1)}},created:function(){this.servicesList(),this.planTypes()},watch:{"data.field_speciality":function(){this.servicesList()}},methods:{servicesList:function(){this.services_list=this.data.field_speciality.split("|").sort()},planTypes:function(){let e=this.data.field_type_plan.split(", ");for(let t=0;t<e.length;t++){let s=e[t].split("|"),i={id:s[0],name:s[1]};this.plan_list.push(i)}},viewInfo:function(){this.$refs.single_result.classList.add("modal-white"),this.show_info=!0},closeInfo:function(){this.$refs.single_result.classList.remove("modal-white"),this.show_info=!1}}},le=ae,oe=(0,k.A)(le,B,H,!1,null,null,null),ne=oe.exports,re=function(){var e=this,t=e._self._c;return t("section",{staticClass:"pagination"},[t("paginate",{attrs:{"page-count":this.pager_data.total_pages,"page-range":5,"margin-pages":0,"click-handler":e.clickCallback,"prev-text":"...","next-text":"...","container-class":"pagination","page-class":"page-item","hide-prev-next":!0,"first-last-button":!1,"force-page":this.pager_data.current_page+1},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},ce=[],de=s(6375),ue=s.n(de),pe={name:"Pager",data:function(){return{pager:[],page:this.pager_data.current_page+1}},props:["pager_data"],components:{Paginate:ue()},methods:{clickCallback:function(e){const t=document.getElementById("medical-network-result-container"),s=t.offsetTop;window.scrollTo(0,s),this.$store.commit("setPage",e-1),this.page=e}}},me=pe,_e=(0,k.A)(me,re,ce,!1,null,null,null),he=_e.exports,fe={name:"ResultsList",props:["results","pager","isMobile"],components:{SingleResult:ne,Pager:he}},ve=fe,we=(0,k.A)(ve,D,G,!1,null,null,null),ye=we.exports,ge=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"map"}})},be=[],ke={name:"ResultsMap",props:["results"],mounted:function(){const e=new X.aH({apiKey:window.drupalSettings.medicalNetwork.maps_api,version:"weekly",libraries:["places"]});e.load().then((()=>{const e=this.location(this.results[0].field_location_map),t=new window.google.maps.Map(document.getElementById("map"),{center:e,zoom:13,disableDefaultUI:!0,zoomControl:!0,scaleControl:!1,fullscreenControl:!1,streetViewControl:!1,rotateControl:!1});for(let s=0;s<this.results.length;s++){let e=this.results[s],i="",a=this.servicesList(e.field_speciality);for(let t=0;t<a.length;t++)i+="<option>"+a[t]+"</option>";let l="",o=this.planTypes(e.field_type_plan);for(let t=0;t<o.length;t++)l+='<li class="plan-type-'+o[t].id+'">'+o[t].name+"</li>";const n='<article class="search-result"><div class="info"><h3>'+e.title+'</h3><span class="address">'+e.field_network_address+'</span><span class="phone">'+e.field_phone+"</span>"+(""!=e.field_whatsapp?'<span class="whatsapp">'+e.field_whatsapp+"</span>":"")+'<span class="services"><select><option>Servicios</option>'+i+'</select></span><span class="plan-type">Aplica para:</span><ul>'+l+"</ul></div></article>",r=new window.google.maps.InfoWindow({content:n}),c=new window.google.maps.Marker({position:this.location(this.results[s].field_location_map),map:t,icon:window.drupalSettings.medicalNetwork.dataBasePath+"/themes/custom/liberty_public/images/icons/pin-map-red.svg"});c.addListener("click",(()=>{r.open(t,c)}))}}))},methods:{location:function(e){let t=e.split(", ");return{lat:parseFloat(t[0]),lng:parseFloat(t[1])}},servicesList:function(e){return e.split("|")},planTypes:function(e){let t=[],s=e.split(", ");for(let i=0;i<s.length;i++){let e=s[i].split("|"),a={id:e[0],name:e[1]};t.push(a)}return t}}},Ce=ke,xe=(0,k.A)(Ce,ge,be,!1,null,null,null),Me=xe.exports,Ne=function(){var e=this;e._self._c;return e._m(0)},Se=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"no-results"},[t("p",[e._v("No hay prestadores de salud que coincidan con tu búsqueda.")])])}],Le={name:"NoResults"},Ae=Le,Te=(0,k.A)(Ae,Ne,Se,!1,null,null,null),$e=Te.exports,Pe={name:"SearchResult",data:function(){return{results:{},pager:{total_items:0,total_pages:0},show_results:!1,show_no_results:!1,show_results_list:!0,show_results_map:!1}},props:["isMobile"],components:{ResultsList:ye,ResultsMap:Me,NoResults:$e},computed:{showResults:function(){return this.show_results&&this.show_results_list?ye:null},showMap:function(){return this.show_results&&this.show_results_map?Me:null},showNoResults:function(){return this.show_no_results?$e:null}},created:function(){this.$store.subscribe((e=>{"setSearchData"!==e.type&&"setPage"!==e.type||(!0===this.$store.state.data.show_results&&this.search(this.$store.state.data),this.show_results=!0)}))},methods:{searchList:function(){this.show_results_list=!0,this.show_results_map=!1,this.search(this.$store.state.data,"list")},searchMap:function(){this.show_results_list=!1,this.show_results_map=!0,this.search(this.$store.state.data,"map")},search:function(e,t){"map"==t&&(this.show_results_map=!1);let s=[];Object.keys(e).forEach((function(t){e[t]&&s.push(t+"="+e[t])}));let i=h.get("map"==t?"search_map?":"search?",s.join("&"));i.then((e=>{"map"==t?this.results=e.rows:(this.results=e.rows,this.pager=e.pager),this.results.length>0?(this.show_results=!0,this.show_no_results=!1):(this.show_results=!0,this.show_no_results=!0),"map"==t&&(this.show_results_map=!0)}))}}},qe=Pe,Fe=(0,k.A)(qe,E,O,!1,null,null,null),Re=Fe.exports,je={name:"App",mixins:[n],data:function(){return{show_results:!1,plan_list:[]}},components:{NetworkForm:I,SearchResult:Re},computed:{showResults:function(){return this.show_results?Re:null}},created(){this.drupalSettings=window.drupalSettings.medicalNetwork,this.plan_list=this.drupalSettings.plan_list},methods:{newSearch:function(){this.$refs.network_form.resetForm(),this.show_results=!1;const e=document.getElementsByClassName("component__form--red-medica"),t=e.offsetTop;window.scrollTo(0,t)},hideResults:function(){this.show_results=!1}}},ze=je,Ie=(0,k.A)(ze,a,l,!1,null,null,null),Ee=Ie.exports,Oe=s(5353);i.Ay.use(Oe.Ay);var De=new Oe.Ay.Store({state:{data:{plan_id:null,ubication_id:null,speciality_id:null,institution_name:null,page:0,show_results:!1,telemedicine:"all",category:null,map_proximity:"all"}},mutations:{setSearchData:function(e,t){e.data={...t}},resetSearch:function(e){e.data.show_results=!1},setPage:function(e,t){e.data.page=t}}}),Ge=s(4890),Be=s.n(Ge);i.Ay.config.productionTip=!1,i.Ay.use(Be()),new i.Ay({store:De,render:e=>e(Ee)}).$mount("#medical-network")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var l=t[i]={exports:{}};return e[i].call(l.exports,l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,l){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],l=e[d][2];for(var n=!0,r=0;r<i.length;r++)(!1&l||o>=l)&&Object.keys(s.O).every((function(e){return s.O[e](i[r])}))?i.splice(r--,1):(n=!1,l<o&&(o=l));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[i,a,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,l,o=i[0],n=i[1],r=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(r)var d=r(s)}for(t&&t(i);c<o.length;c++)l=o[c],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(d)},i=self["webpackChunkapp"]=self["webpackChunkapp"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],(function(){return s(7634)}));i=s.O(i)})();
//# sourceMappingURL=app.js.map