!function(e,r,o,i){"use strict";r.behaviors.themeFormsJS={attach:function(r,t){let a=function(e){o.setTimeout((function(){i.location.reload(!0)}),e)};if(e(".webform-section-wrapper").find("input").on("input",(function(r){e(r.currentTarget).attr("data-empty",!r.currentTarget.value)})),e("body").hasClass("js-mobile")&&e("body").find(".webform-confirmation").length>0&&a(3500),e(".form-text, .form-email, .form-number, .form-select, .form-item textarea, .form-item .select--tabs").each((function(){let r=e(this),o=r.parents(".form-item");"off"!==r.parents("form").prop("autocomplete")&&r.parents("form").prop("autocomplete","off"),r.prop("autocomplete","off"),navigator.userAgent.match(/Trident.*rv\:11\./)&&r.hasClass("form-select")?(o.addClass("form__input--activo"),r.focus().trigger("click")):(void 0!==r.attr("autofocus")&&setTimeout((function(){r.focus()}),50),r.on("focus",(function(){o.addClass("form__input--activo")})).on("blur",(function(){0===r.val().length&&o.removeClass("form__input--activo")})))})),e(".webform-submission-form .messages--error").remove(),e(".component__single-text--interesado .component__content .single_text_class p a").click((function(r){r.preventDefault(),e(".form-interesado").removeClass("is-hidden"),e("body").addClass("no-scroll")})),e(".form-interesado .form-confirmation, .form-interesado").on("click","#close",(function(r){r.preventDefault(),e(".form-interesado").addClass("is-hidden"),e("body").removeClass("no-scroll")})),e(".glosario-ls__link").click((function(r){r.preventDefault(),e(".form-glossary-word").addClass("is-open")})),e(".jsModalClose").click((function(r){r.preventDefault(),e(".form-glossary-word").removeClass("is-open")})),e(".video__link").click((function(r){r.preventDefault();let o=e(this).attr("data-atr");e(".videoModalOverlay iframe").attr("src",o),e(".videoModalOverlay").addClass("is-open")})),e(".videoModalClose").click((function(r){r.preventDefault(),e(this).closest(".videoModalOverlay").removeClass("is-open")})),e(".webform-submission-pqr-form").length>0){e("#edit-numero-caso").attr("disabled","disabled"),e("#edit-reconsideracion").change((function(){"SI"!=e(this).val()?e("#edit-numero-caso").attr("disabled","disabled"):e("#edit-numero-caso").removeAttr("disabled")})),e("#edit-placa").attr("disabled","disabled"),e("#edit-producto--2").change((function(){"AUTOS"==e(this).val()||"SOAT"==e(this).val()?e("#edit-placa").removeAttr("disabled"):e("#edit-placa").attr("disabled","disabled")}));let r=e(".webform-submission-pqr-form");if(r.children(".webform-confirmation").length>0){let r=e(".alias--zona-de-cliente-contactanos .cp-tabs .ui-tabs-nav li:nth-child(2)");if(r.length>0){r.find(".cta a").click();let o=e(".cp-banner__image").height(),i=e(".component__tabs .component__heading").height(),t=600;o&&i&&(t=parseInt(o)+parseInt(i)),e("html, body").animate({scrollTop:t},900)}}let o={reconsideracion:{required:!0},numero_caso:{required:"SI"!=e("#edit-numero-caso").val()},tipo_de_identificacion:{required:!0},numero_de_identificacion:{required:!0,number:!0},nombres_y_apellidos_razon_social_:{required:!0},ciudad:{required:!0},direccion_si:{required:!0},celular_contacto:{required:!0},correo_electronico:{required:!0,isValidEmailAddress:!0},producto:{required:!0},medio_envio:{required:!0},placa:{required:!0},descripcion:{required:!0}},i={reconsideracion:{required:"Este campo es requerido"},numero_caso:{required:"Este campo es requerido"},tipo_de_identificacion:{required:"Este campo es requerido"},numero_de_identificacion:{required:"Este campo es requerido",number:"Debe ingresar solo números"},nombres_y_apellidos_razon_social_:{required:"Este campo es requerido"},ciudad:{required:"Este campo es requerido"},direccion_si:{required:"Este campo es requerido"},celular_contacto:{required:"Este campo es requerido"},correo_electronico:{required:"Este campo es requerido",isValidEmailAddress:"Correo electrónico no valido"},producto:{required:"Este campo es requerido"},medio_envio:{required:"Este campo es requerido"},placa:{required:"Este campo es requerido"},descripcion:{required:"Este campo es requerido"}};r.validate({rules:o,messages:i}),e.validator.addMethod("isValidEmailAddress",(function(e,r){return new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/).test(e)}))}e(".js-form-errors-inline .form-submit").click((function(){e(i).ajaxComplete((function(){e(".js-form-errors-inline .error").each((function(){let r=e(this),o=r.attr("data-webform-required-error"),i=r.parents(".form-item");r.hasClass("js-field-errors-inline")&&(i.find(".element-msn-error").remove(),void 0!==o&&!1!==o&&i.append('<span class="element-msn-error">'+o+"</span>"))})),e("body").find(".webform-confirmation").length>0&&a(6500)}))}))}}}(jQuery,Drupal,this,this.document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybXMuY29uZmlnLmpzIiwibmFtZXMiOlsiJCIsIkRydXBhbCIsIndpbmRvdyIsImRvY3VtZW50IiwiYmVoYXZpb3JzIiwidGhlbWVGb3Jtc0pTIiwiYXR0YWNoIiwiY29udGV4dCIsInNldHRpbmdzIiwicmVsb2FkX2RvY3VtZW50IiwidGltZSIsInNldFRpbWVvdXQiLCJsb2NhdGlvbiIsInJlbG9hZCIsImZpbmQiLCJvbiIsImUiLCJjdXJyZW50VGFyZ2V0IiwiYXR0ciIsInZhbHVlIiwiaGFzQ2xhc3MiLCJsZW5ndGgiLCJlYWNoIiwiZWwiLCJ0aGlzIiwiaXRlbSIsInBhcmVudHMiLCJwcm9wIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJhZGRDbGFzcyIsImZvY3VzIiwidHJpZ2dlciIsInVuZGVmaW5lZCIsInZhbCIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwiY2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsInNyY19pZnJhbWUiLCJjbG9zZXN0IiwiY2hhbmdlIiwicmVtb3ZlQXR0ciIsImZvcm0iLCJjaGlsZHJlbiIsImh0X3RhYl9wcXIiLCJoYiIsImhlaWdodCIsImhjdCIsInNjcmxsRm9ybSIsInBhcnNlSW50IiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInZhbGlkYXRlX3J1bGVzIiwicmVjb25zaWRlcmFjaW9uIiwicmVxdWlyZWQiLCJudW1lcm9fY2FzbyIsInRpcG9fZGVfaWRlbnRpZmljYWNpb24iLCJudW1lcm9fZGVfaWRlbnRpZmljYWNpb24iLCJudW1iZXIiLCJub21icmVzX3lfYXBlbGxpZG9zX3Jhem9uX3NvY2lhbF8iLCJjaXVkYWQiLCJkaXJlY2Npb25fc2kiLCJjZWx1bGFyX2NvbnRhY3RvIiwiY29ycmVvX2VsZWN0cm9uaWNvIiwiaXNWYWxpZEVtYWlsQWRkcmVzcyIsInByb2R1Y3RvIiwibWVkaW9fZW52aW8iLCJwbGFjYSIsImRlc2NyaXBjaW9uIiwidmFsaWRhdGVfbWVzc2FnZXMiLCJ2YWxpZGF0ZSIsInJ1bGVzIiwibWVzc2FnZXMiLCJ2YWxpZGF0b3IiLCJhZGRNZXRob2QiLCJlbGVtZW50IiwiUmVnRXhwIiwidGVzdCIsImFqYXhDb21wbGV0ZSIsIm1zbl9lcnJvciIsInBhcmVudCIsImFwcGVuZCIsImpRdWVyeSJdLCJzb3VyY2VzIjpbImZvcm1zLmNvbmZpZy5qcyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBV0EsRUFBR0MsRUFBUUMsRUFBUUMsR0FDNUIsYUFFQUYsRUFBT0csVUFBVUMsYUFBZSxDQUM5QkMsT0FBUSxTQUFVQyxFQUFTQyxHQUV6QixJQUFJQyxFQUFrQixTQUFVQyxHQUM5QlIsRUFBT1MsWUFBVyxXQUNoQlIsRUFBU1MsU0FBU0MsUUFBTyxFQUMzQixHQUFHSCxFQUNMLEVBb0hBLEdBbEhBVixFQUFFLDRCQUNDYyxLQUFLLFNBQ0xDLEdBQUcsU0FBUyxTQUFVQyxHQUNyQmhCLEVBQUVnQixFQUFFQyxlQUFlQyxLQUFLLGNBQWVGLEVBQUVDLGNBQWNFLE1BQ3pELElBR0VuQixFQUFFLFFBQVFvQixTQUFTLGNBQ2pCcEIsRUFBRSxRQUFRYyxLQUFLLHlCQUF5Qk8sT0FBUyxHQUNuRFosRUFBZ0IsTUFJcEJULEVBQ0Usc0dBQ0FzQixNQUFLLFdBQ0wsSUFBSUMsRUFBS3ZCLEVBQUV3QixNQUNUQyxFQUFPRixFQUFHRyxRQUFRLGNBQzRCLFFBQTVDSCxFQUFHRyxRQUFRLFFBQVFDLEtBQUssaUJBQzFCSixFQUFHRyxRQUFRLFFBQVFDLEtBQUssZUFBZ0IsT0FFMUNKLEVBQUdJLEtBQUssZUFBZ0IsT0FJcEJDLFVBQVVDLFVBQVVDLE1BQU0sc0JBQzVCUCxFQUFHSCxTQUFTLGdCQUVaSyxFQUFLTSxTQUFTLHVCQUNkUixFQUFHUyxRQUFRQyxRQUFRLGdCQUVVQyxJQUF6QlgsRUFBR0wsS0FBSyxjQUNWUCxZQUFXLFdBQ1RZLEVBQUdTLE9BQ0wsR0FBRyxJQUdMVCxFQUFHUixHQUFHLFNBQVMsV0FDYlUsRUFBS00sU0FBUyxzQkFDaEIsSUFBR2hCLEdBQUcsUUFBUSxXQUVPLElBREZRLEVBQUdZLE1B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QVUsMkJBR1pHLHlCQUEwQixDQUN4QkgsU0FBVSwwQkFDVkksT0FBUSw4QkFHVkMsa0NBQW1DLENBQ2pDTCxTQUFVLDJCQUdaTSxPQUFRLENBQ05OLFNBQVUsMkJBR1pPLGFBQWMsQ0FDWlAsU0FBVSwyQkFHWlEsaUJBQWtCLENBQ2hCUixTQUFVLDJCQUdaUyxtQkFBb0IsQ0FDbEJULFNBQVUsMEJBQ1ZVLG9CQUFxQixnQ0FHdkJDLFNBQVUsQ0FDUlgsU0FBVSwyQkFHWlksWUFBYSxDQUNYWixTQUFVLDJCQUdaYSxNQUFPLENBQ0xiLFNBQVUsMkJBR1pjLFlBQWEsQ0FDWGQsU0FBVSw0QkFHZFosRUFBSzRCLFNBQVMsQ0FDWkMsTUFBT25CLEVBQ1BvQixTQUFVSCxJQUVadkUsRUFBRTJFLFVBQVVDLFVBQVUsdUJBQXVCLFNBQVV6RCxFQUFPMEQsR0FFNUQsT0FEYyxJQUFJQyxPQUFPLHVDQUNWQyxLQUFLNUQsRUFDdEIsR0FjRixDQUdBbkIsRUFBRSx1Q0FBdUNzQyxPQUFNLFdBQzdDdEMsRUFBRUcsR0FBVTZFLGNBQWEsV0FDdkJoRixFQUFFLGlDQUFpQ3NCLE1BQUssV0FDdEMsSUFBSUMsRUFBS3ZCLEVBQUV3QixNQUNUeUQsRUFBWTFELEVBQUdMLEtBQUssK0JBQ3BCZ0UsRUFBUzNELEVBQUdHLFFBQVEsY0FDbEJILEVBQUdILFNBQVMsNEJBQ2Q4RCxFQUFPcEUsS0FBSyxzQkFBc0J1QixjQUVYLElBQWQ0QyxJQUNPLElBQWRBLEdBRUFDLEVBQU9DLE9BQ0wsbUNBQXFDRixFQUFZLFdBSXpELElBRUlqRixFQUFFLFFBQVFjLEtBQUsseUJBQXlCTyxPQUFTLEdBQ25EWixFQUFnQixLQUVwQixHQUNGLEdBQ0YsRUFFSCxDQTNlRCxDQTJlRzJFLE9BQVFuRixPQUFRdUIsS0FBTUEsS0FBS3JCIiwiaWdub3JlTGlzdCI6W10sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCwgRHJ1cGFsLCB3aW5kb3csIGRvY3VtZW50KSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIERydXBhbC5iZWhhdmlvcnMudGhlbWVGb3Jtc0pTID0ge1xuICAgIGF0dGFjaDogZnVuY3Rpb24gKGNvbnRleHQsIHNldHRpbmdzKSB7XG4gICAgICAvLyByZWxvYWQgd2luZG93XG4gICAgICBsZXQgcmVsb2FkX2RvY3VtZW50ID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgICAgICAgfSwgdGltZSk7XG4gICAgICB9O1xuXG4gICAgICAkKFwiLndlYmZvcm0tc2VjdGlvbi13cmFwcGVyXCIpXG4gICAgICAgIC5maW5kKFwiaW5wdXRcIilcbiAgICAgICAgLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAkKGUuY3VycmVudFRhcmdldCkuYXR0cihcImRhdGEtZW1wdHlcIiwgIWUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBNb2JpbGVcbiAgICAgIGlmICgkKFwiYm9keVwiKS5oYXNDbGFzcyhcImpzLW1vYmlsZVwiKSkge1xuICAgICAgICBpZiAoJChcImJvZHlcIikuZmluZChcIi53ZWJmb3JtLWNvbmZpcm1hdGlvblwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVsb2FkX2RvY3VtZW50KDM1MDApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICQoXG4gICAgICAgIFwiLmZvcm0tdGV4dCwgLmZvcm0tZW1haWwsIC5mb3JtLW51bWJlciwgLmZvcm0tc2VsZWN0LCAuZm9ybS1pdGVtIHRleHRhcmVhLCAuZm9ybS1pdGVtIC5zZWxlY3QtLXRhYnNcIlxuICAgICAgKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGVsID0gJCh0aGlzKSxcbiAgICAgICAgICBpdGVtID0gZWwucGFyZW50cyhcIi5mb3JtLWl0ZW1cIik7XG4gICAgICAgIGlmIChlbC5wYXJlbnRzKFwiZm9ybVwiKS5wcm9wKFwiYXV0b2NvbXBsZXRlXCIpICE9PSBcIm9mZlwiKSB7XG4gICAgICAgICAgZWwucGFyZW50cyhcImZvcm1cIikucHJvcChcImF1dG9jb21wbGV0ZVwiLCBcIm9mZlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbC5wcm9wKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuXG4gICAgICAgIC8vIGlmIElFIDExIGFkZCBjbGFzcyB0byBsYWJlbHNcbiAgICAgICAgaWYgKFxuICAgICAgICAgICEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudC4qcnZcXDoxMVxcLi8pICYmXG4gICAgICAgICAgZWwuaGFzQ2xhc3MoXCJmb3JtLXNlbGVjdFwiKVxuICAgICAgICApIHtcbiAgICAgICAgICBpdGVtLmFkZENsYXNzKFwiZm9ybV9faW5wdXQtLWFjdGl2b1wiKTtcbiAgICAgICAgICBlbC5mb2N1cygpLnRyaWdnZXIoXCJjbGlja1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZWwuYXR0cihcImF1dG9mb2N1c1wiKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZWwuZm9jdXMoKTtcbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbC5vbihcImZvY3VzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGl0ZW0uYWRkQ2xhc3MoXCJmb3JtX19pbnB1dC0tYWN0aXZvXCIpO1xuICAgICAgICAgIH0pLm9uKFwiYmx1clwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgdmFsb3JCdWNhciA9IGVsLnZhbCgpLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh2YWxvckJ1Y2FyID09PSAwKSB7XG4gICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlQ2xhc3MoXCJmb3JtX19pbnB1dC0tYWN0aXZvXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJChcIi53ZWJmb3JtLXN1Ym1pc3Npb24tZm9ybSAubWVzc2FnZXMtLWVycm9yXCIpLnJlbW92ZSgpO1xuXG4gICAgICAkKFxuICAgICAgICBcIi5jb21wb25lbnRfX3NpbmdsZS10ZXh0LS1pbnRlcmVzYWRvIC5jb21wb25lbnRfX2NvbnRlbnQgLnNpbmdsZV90ZXh0X2NsYXNzIHAgYVwiXG4gICAgICApLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJChcIi5mb3JtLWludGVyZXNhZG9cIikucmVtb3ZlQ2xhc3MoXCJpcy1oaWRkZW5cIik7XG4gICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibm8tc2Nyb2xsXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIERldGFpbCBwcm9kdWN0XG4gICAgICAvLyBTaG93IHdlYmZvcm1cbiAgICAgIC8vICQoJ2JvZHkubm9kZXR5cGUtLXByb2R1Y3QgLmNvbXBvbmVudF9fc2luZ2xlLXRleHQtLWludGVyZXNhZG8gcCBhJykuY2xpY2soZnVuY3Rpb24oZSl7XG4gICAgICAvLyAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vICAgJCgnLmZvcm0taW50ZXJlc2FkbycpLnJlbW92ZUNsYXNzKCdpcy1oaWRkZW4nKTtcbiAgICAgIC8vICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJuby1zY3JvbGxcIik7XG4gICAgICAvLyB9KTtcbiAgICAgIC8vIEhpZGUgd2ViZm9ybVxuICAgICAgJChcIi5mb3JtLWludGVyZXNhZG8gLmZvcm0tY29uZmlybWF0aW9uLCAuZm9ybS1pbnRlcmVzYWRvXCIpLm9uKFxuICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgIFwiI2Nsb3NlXCIsXG4gICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICQoXCIuZm9ybS1pbnRlcmVzYWRvXCIpLmFkZENsYXNzKFwiaXMtaGlkZGVuXCIpO1xuICAgICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibm8tc2Nyb2xsXCIpO1xuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICAkKFwiLmdsb3NhcmlvLWxzX19saW5rXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJChcIi5mb3JtLWdsb3NzYXJ5LXdvcmRcIikuYWRkQ2xhc3MoXCJpcy1vcGVuXCIpO1xuICAgICAgICAvLyAkKFwiYm9keVwiKS5hZGRDbGFzcyhcIm5vLXNjcm9sbFwiKTtcbiAgICAgIH0pO1xuXG4gICAgICAkKFwiLmpzTW9kYWxDbG9zZVwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoXCIuZm9ybS1nbG9zc2FyeS13b3JkXCIpLnJlbW92ZUNsYXNzKFwiaXMtb3BlblwiKTtcbiAgICAgICAgLy8gJChcImJvZHlcIikuYWRkQ2xhc3MoXCJuby1zY3JvbGxcIik7XG4gICAgICB9KTtcblxuICAgICAgLy8gdmlkZW8gbW9kYWwgY29tcG9uZW50LlxuICAgICAgJChcIi52aWRlb19fbGlua1wiKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBzcmNfaWZyYW1lID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1hdHJcIik7XG4gICAgICAgICQoXCIudmlkZW9Nb2RhbE92ZXJsYXkgaWZyYW1lXCIpLmF0dHIoXCJzcmNcIiwgc3JjX2lmcmFtZSk7XG4gICAgICAgICQoXCIudmlkZW9Nb2RhbE92ZXJsYXlcIikuYWRkQ2xhc3MoXCJpcy1vcGVuXCIpO1xuICAgICAgfSk7XG5cbiAgICAgICQoXCIudmlkZW9Nb2RhbENsb3NlXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KFwiLnZpZGVvTW9kYWxPdmVybGF5XCIpLnJlbW92ZUNsYXNzKFwiaXMtb3BlblwiKTtcbiAgICAgICAgLy8gJChcImJvZHlcIikuYWRkQ2xhc3MoXCJuby1zY3JvbGxcIik7XG4gICAgICB9KTtcblxuICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gUFFSXG4gICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIC8vIFBxciBmb3JtIC0gQWRkIHVybCBhY3Rpb25cbiAgICAgIC8qaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnYWxpYXMtLXpvbmEtZGUtY2xpZW50ZS1jb250YWN0YW5vcycpKSB7XG4gICAgICAgIGlmICgkKFwiLnNhbGVzZm9yY2UtZm9ybS1wcXJcIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxldCB1cmxfYWN0aW9uID0gJ2h0dHBzOi8vd2VidG8uc2FsZXNmb3JjZS5jb20vc2VydmxldC9zZXJ2bGV0LldlYlRvQ2FzZT9lbmNvZGluZz1VVEYtOCc7XG4gICAgICAgICAgJChcIi5zYWxlc2ZvcmNlLWZvcm0tcHFyXCIpLmF0dHIoJ2FjdGlvbicsIHVybF9hY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9Ki9cblxuICAgICAgaWYgKCQoXCIud2ViZm9ybS1zdWJtaXNzaW9uLXBxci1mb3JtXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gUFFSUyAtIEZJRUxEUyBJRFMgU0FMRUZPUkNFIFZBTElEQVRJT05cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gUHFyIGZpZWxkIHN0YXRlc1xuICAgICAgICAvKmlmICgkKFwiIzAwTkcwMDAwMDBGV3luOVwiKS52YWwoKSAhPSAnU0knKSB7XG4gICAgICAgICAgJChcIiMwME40QTAwMDAwRmtpS3BcIikuYXR0cihcImRpc2FibGVkXCIsICdkaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgICQoXCIjMDBORzAwMDAwMEZXeW45XCIpLmNoYW5nZShmdW5jdGlvbigpe1xuICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpICE9ICdTSScpIHtcbiAgICAgICAgICAgICQoXCIjMDBONEEwMDAwMEZraUtwXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkKFwiIzAwTjRBMDAwMDBGa2lLcFwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoJChcIiMwME40QTAwMDAwRmtpTDJcIikudmFsKCkgIT0gJ0FVVE9TJyB8fCAkKFwiIzAwTjRBMDAwMDBGa2lMMlwiKS52YWwoKSAhPSAnU09BVCcpIHtcbiAgICAgICAgICAkKFwiIzAwTkcwMDAwMDA5OThVUlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgJChcIiMwME40QTAwMDAwRmtpTDJcIikuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT0gJ0FVVE9TJyB8fCAkKHRoaXMpLnZhbCgpID09ICdTT0FUJykge1xuICAgICAgICAgICAgJChcIiMwME5HMDAwMDAwOTk4VVJcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkKFwiIzAwTkcwMDAwMDA5OThVUlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIFBxciBJbXBsZW1lbnQgSnF1ZXJ5IHZhbGlkYXRlXG4gICAgICAgIGxldCBmb3JtID0gJChcIi5zYWxlc2ZvcmNlLWZvcm0tcHFyXCIpO1xuICAgICAgICBsZXQgdmFsaWRhdGVfcnVsZXMgPSB7XG4gICAgICAgICAgLy8gUmVjb25zaWRlcmFjaW9uXG4gICAgICAgICAgJzAwTkcwMDAwMDBGV3luOSc6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gTsO6bWVybyBkZSBjYXNvXG4gICAgICAgICAgJzAwTjRBMDAwMDBGa2lLcCc6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiAkKFwiIzAwTjRBMDAwMDBGa2lLcFwiKS52YWwoKSAhPSAnU0knLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gVGlwbyBpZGVudGlmaWNhY2lvblxuICAgICAgICAgICcwME5HMDAwMDAwRld5b1cnOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIE7Dum1lcm8gaWRlbnRpZmljYWNpb25cbiAgICAgICAgICAnMDBORzAwMDAwMEZXeW9JJzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBudW1iZXI6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBOb21icmVzIHkgYXBlbGxpZG9zXG4gICAgICAgICAgJzAwTjRBMDAwMDBGa2lLbyc6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gQ2l1ZGFkZXNcbiAgICAgICAgICAnMDBORzAwMDAwMEZXeW5mJzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBEaXJlY2Npb25cbiAgICAgICAgICAnMDBORzAwMDAwMEZXeW54Jzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBDZWx1bGFyXG4gICAgICAgICAgJzAwTkcwMDAwMDBGV3luQic6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gQ29ycmVvXG4gICAgICAgICAgJzAwTkcwMDAwMDBGV3luYic6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgaXNWYWxpZEVtYWlsQWRkcmVzczogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIFByb2R1Y3RvXG4gICAgICAgICAgJzAwTjRBMDAwMDBGa2lMMic6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gTWVkaW8gZGUgZW52aW9cbiAgICAgICAgICAnMDBORzAwMDAwMEZXeW5sJzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBQbGFjYVxuICAgICAgICAgICcwME5HMDAwMDAwOTk4VVInOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIERlc2NyaXBjaW9uXG4gICAgICAgICAgJ2Rlc2NyaXBjaW9uJzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgdmFsaWRhdGVfbWVzc2FnZXMgPSB7XG4gICAgICAgICAgLy8gUmVjb25zaWRlcmFjaW9uXG4gICAgICAgICAgJzAwTkcwMDAwMDBGV3luOSc6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiAnRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gTsO6bWVybyBkZSBjYXNvXG4gICAgICAgICAgJzAwTjRBMDAwMDBGa2lLcCc6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiAnRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gVGlwbyBpZGVudGlmaWNhY2lvblxuICAgICAgICAgICcwME5HMDAwMDAwRld5b1cnOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogJ0VzdGUgY2FtcG8gZXMgcmVxdWVyaWRvJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIE7Dum1lcm8gaWRlbnRpZmljYWNpb25cbiAgICAgICAgICAnMDBORzAwMDAwMEZXeW9JJzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6ICdFc3RlIGNhbXBvIGVzIHJlcXVlcmlkbycsXG4gICAgICAgICAgICBudW1iZXI6ICdEZWJlIGluZ3Jlc2FyIHNvbG8gbsO6bWVyb3MnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gTm9tYnJlcyB5IGFwZWxsaWRvc1xuICAgICAgICAgICcwME40QTAwMDAwRmtpS28nOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogJ0VzdGUgY2FtcG8gZXMgcmVxdWVyaWRvJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIENpdWRhZGVzXG4gICAgICAgICAgJzAwTkcwMDAwMDBGV3luZic6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiAnRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gRGlyZWNjaW9uXG4gICAgICAgICAgJzAwTkcwMDAwMDBGV3lueCc6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiAnRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gQ2VsdWxhclxuICAgICAgICAgICcwME5HMDAwMDAwRld5bkInOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogJ0VzdGUgY2FtcG8gZXMgcmVxdWVyaWRvJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIENvcnJlb1xuICAgICAgICAgICcwME5HMDAwMDAwRld5bmInOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogJ0VzdGUgY2FtcG8gZXMgcmVxdWVyaWRvJyxcbiAgICAgICAgICAgIGlzVmFsaWRFbWFpbEFkZHJlc3M6ICdDb3JyZW8gZWxlY3Ryw7NuaWNvIG5vIHZhbGlkbycsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBQcm9kdWN0b1xuICAgICAgICAgICcwME40QTAwMDAwRmtpTDInOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogJ0VzdGUgY2FtcG8gZXMgcmVxdWVyaWRvJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIE1lZGlvIGRlIGVudmlvXG4gICAgICAgICAgJzAwTkcwMDAwMDBGV3lubCc6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiAnRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gUGxhY2FcbiAgICAgICAgICAnMDBORzAwMDAwMDk5OFVSJzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6ICdFc3RlIGNhbXBvIGVzIHJlcXVlcmlkbycsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBEZXNjcmlwY2lvblxuICAgICAgICAgICdkZXNjcmlwY2lvbic6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiAnRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG8nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGZvcm0udmFsaWRhdGUoe1xuICAgICAgICAgIHJ1bGVzOiB2YWxpZGF0ZV9ydWxlcyxcbiAgICAgICAgICBtZXNzYWdlczogdmFsaWRhdGVfbWVzc2FnZXMsXG4gICAgICAgIH0pO1xuICAgICAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoXCJpc1ZhbGlkRW1haWxBZGRyZXNzXCIsXG4gICAgICAgICAgZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGxldCBwYXR0ZXJuID0gbmV3IFJlZ0V4cCgvXihbXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSk/JC8pO1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICApOyovXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gUFFSUyBGSUVMRFMgTkFNRVMgVkFMSURBVElPTlxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBQcXIgZmllbGQgc3RhdGVzXG5cbiAgICAgICAgLy9pZiAoJChcIiNlZGl0LXJlY29uc2lkZXJhY2lvblwiKS52YWwoKSAhPSAnU0knKSB7XG4gICAgICAgICQoXCIjZWRpdC1udW1lcm8tY2Fzb1wiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgLy99XG4gICAgICAgICQoXCIjZWRpdC1yZWNvbnNpZGVyYWNpb25cIikuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSAhPSBcIlNJXCIpIHtcbiAgICAgICAgICAgICQoXCIjZWRpdC1udW1lcm8tY2Fzb1wiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChcIiNlZGl0LW51bWVyby1jYXNvXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvL2lmICgkKFwiI2VkaXQtcHJvZHVjdG8tLTJcIikudmFsKCkgIT0gJ0FVVE9TJyB8fCAkKFwiI2VkaXQtcHJvZHVjdG8tLTJcIikudmFsKCkgIT0gJ1NPQVQnKSB7XG4gICAgICAgICQoXCIjZWRpdC1wbGFjYVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgLy99XG4gICAgICAgICQoXCIjZWRpdC1wcm9kdWN0by0tMlwiKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09IFwiQVVUT1NcIiB8fCAkKHRoaXMpLnZhbCgpID09IFwiU09BVFwiKSB7XG4gICAgICAgICAgICAkKFwiI2VkaXQtcGxhY2FcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKFwiI2VkaXQtcGxhY2FcIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgZm9ybSA9ICQoXCIud2ViZm9ybS1zdWJtaXNzaW9uLXBxci1mb3JtXCIpLFxuICAgICAgICAgIG1zZ19jb25maXJtID0gZm9ybS5jaGlsZHJlbihcIi53ZWJmb3JtLWNvbmZpcm1hdGlvblwiKTtcblxuICAgICAgICAvLyBQcXIgc2hvdyBjb25maXJtYXRpb24gbWVzc2FnZVxuICAgICAgICBpZiAobXNnX2NvbmZpcm0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxldCBodF90YWJfcHFyID0gJChcbiAgICAgICAgICAgIFwiLmFsaWFzLS16b25hLWRlLWNsaWVudGUtY29udGFjdGFub3MgLmNwLXRhYnMgLnVpLXRhYnMtbmF2IGxpOm50aC1jaGlsZCgyKVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaHRfdGFiX3Bxci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodF90YWJfcHFyLmZpbmQoXCIuY3RhIGFcIikuY2xpY2soKTtcbiAgICAgICAgICAgIGxldCBoYiA9ICQoXCIuY3AtYmFubmVyX19pbWFnZVwiKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgaGN0ID0gJChcIi5jb21wb25lbnRfX3RhYnMgLmNvbXBvbmVudF9faGVhZGluZ1wiKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgc2NybGxGb3JtID0gNjAwO1xuICAgICAgICAgICAgaWYgKGhiICYmIGhjdCkge1xuICAgICAgICAgICAgICBzY3JsbEZvcm0gPSBwYXJzZUludChoYikgKyBwYXJzZUludChoY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7IHNjcm9sbFRvcDogc2NybGxGb3JtIH0sIDkwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHFyIEltcGxlbWVudCBKcXVlcnkgdmFsaWRhdGVcbiAgICAgICAgbGV0IHZhbGlkYXRlX3J1bGVzID0ge1xuICAgICAgICAgIC8vIFJlY29uc2lkZXJhY2lvblxuICAgICAgICAgIHJlY29uc2lkZXJhY2lvbjoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBOw7ptZXJvIGRlIGNhc29cbiAgICAgICAgICBudW1lcm9fY2Fzbzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6ICQoXCIjZWRpdC1udW1lcm8tY2Fzb1wiKS52YWwoKSAhPSBcIlNJXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBUaXBvIGlkZW50aWZpY2FjaW9uXG4gICAgICAgICAgdGlwb19kZV9pZGVudGlmaWNhY2lvbjoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBOw7ptZXJvIGlkZW50aWZpY2FjaW9uXG4gICAgICAgICAgbnVtZXJvX2RlX2lkZW50aWZpY2FjaW9uOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIG51bWJlcjogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIE5vbWJyZXMgeSBhcGVsbGlkb3NcbiAgICAgICAgICBub21icmVzX3lfYXBlbGxpZG9zX3Jhem9uX3NvY2lhbF86IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gQ2l1ZGFkZXNcbiAgICAgICAgICBjaXVkYWQ6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gRGlyZWNjaW9uXG4gICAgICAgICAgZGlyZWNjaW9uX3NpOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIENlbHVsYXJcbiAgICAgICAgICBjZWx1bGFyX2NvbnRhY3RvOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIENvcnJlb1xuICAgICAgICAgIGNvcnJlb19lbGVjdHJvbmljbzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBpc1ZhbGlkRW1haWxBZGRyZXNzOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gUHJvZHVjdG9cbiAgICAgICAgICBwcm9kdWN0bzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBNZWRpbyBkZSBlbnZpb1xuICAgICAgICAgIG1lZGlvX2VudmlvOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIFBsYWNhXG4gICAgICAgICAgcGxhY2E6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gRGVzY3JpcGNpb25cbiAgICAgICAgICBkZXNjcmlwY2lvbjoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgdmFsaWRhdGVfbWVzc2FnZXMgPSB7XG4gICAgICAgICAgLy8gUmVjb25zaWRlcmFjaW9uXG4gICAgICAgICAgcmVjb25zaWRlcmFjaW9uOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogXCJFc3RlIGNhbXBvIGVzIHJlcXVlcmlkb1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gTsO6bWVybyBkZSBjYXNvXG4gICAgICAgICAgbnVtZXJvX2Nhc286IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiBcIkVzdGUgY2FtcG8gZXMgcmVxdWVyaWRvXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBUaXBvIGlkZW50aWZpY2FjaW9uXG4gICAgICAgICAgdGlwb19kZV9pZGVudGlmaWNhY2lvbjoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IFwiRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG9cIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIE7Dum1lcm8gaWRlbnRpZmljYWNpb25cbiAgICAgICAgICBudW1lcm9fZGVfaWRlbnRpZmljYWNpb246IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiBcIkVzdGUgY2FtcG8gZXMgcmVxdWVyaWRvXCIsXG4gICAgICAgICAgICBudW1iZXI6IFwiRGViZSBpbmdyZXNhciBzb2xvIG7Dum1lcm9zXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBOb21icmVzIHkgYXBlbGxpZG9zXG4gICAgICAgICAgbm9tYnJlc195X2FwZWxsaWRvc19yYXpvbl9zb2NpYWxfOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogXCJFc3RlIGNhbXBvIGVzIHJlcXVlcmlkb1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gQ2l1ZGFkZXNcbiAgICAgICAgICBjaXVkYWQ6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiBcIkVzdGUgY2FtcG8gZXMgcmVxdWVyaWRvXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBEaXJlY2Npb25cbiAgICAgICAgICBkaXJlY2Npb25fc2k6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiBcIkVzdGUgY2FtcG8gZXMgcmVxdWVyaWRvXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBDZWx1bGFyXG4gICAgICAgICAgY2VsdWxhcl9jb250YWN0bzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IFwiRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG9cIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIENvcnJlb1xuICAgICAgICAgIGNvcnJlb19lbGVjdHJvbmljbzoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IFwiRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG9cIixcbiAgICAgICAgICAgIGlzVmFsaWRFbWFpbEFkZHJlc3M6IFwiQ29ycmVvIGVsZWN0csOzbmljbyBubyB2YWxpZG9cIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIFByb2R1Y3RvXG4gICAgICAgICAgcHJvZHVjdG86IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiBcIkVzdGUgY2FtcG8gZXMgcmVxdWVyaWRvXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBNZWRpbyBkZSBlbnZpb1xuICAgICAgICAgIG1lZGlvX2VudmlvOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogXCJFc3RlIGNhbXBvIGVzIHJlcXVlcmlkb1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gUGxhY2FcbiAgICAgICAgICBwbGFjYToge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IFwiRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG9cIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIERlc2NyaXBjaW9uXG4gICAgICAgICAgZGVzY3JpcGNpb246IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiBcIkVzdGUgY2FtcG8gZXMgcmVxdWVyaWRvXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9ybS52YWxpZGF0ZSh7XG4gICAgICAgICAgcnVsZXM6IHZhbGlkYXRlX3J1bGVzLFxuICAgICAgICAgIG1lc3NhZ2VzOiB2YWxpZGF0ZV9tZXNzYWdlcyxcbiAgICAgICAgfSk7XG4gICAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZChcImlzVmFsaWRFbWFpbEFkZHJlc3NcIiwgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgICAgbGV0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKC9eKFtcXHctXFwuXStAKFtcXHctXStcXC4pK1tcXHctXXsyLDR9KT8kLyk7XG4gICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIHBhZ2UgYWZ0ZXIgc3VibWl0XG4gICAgICAgIC8qZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBpZiAoZm9ybS5maW5kKCcuZXJyb3InKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGxldCBkYXRhRm9ybSA9IGZvcm0uc2VyaWFsaXplKCksXG4gICAgICAgICAgICAgIHVybCA9IGZvcm0uYXR0cignYWN0aW9uJyk7XG4gICAgICAgICAgICAkLnBvc3QodXJsLCBkYXRhRm9ybSlcbiAgICAgICAgICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UoXCIvYWdyYWRlY2ltaWVudG9cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pOyovXG4gICAgICB9XG5cbiAgICAgIC8vIE1lc3NhZ2Ugd2ViZm9ybSBhamF4IGlubGluZVxuICAgICAgJChcIi5qcy1mb3JtLWVycm9ycy1pbmxpbmUgLmZvcm0tc3VibWl0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChkb2N1bWVudCkuYWpheENvbXBsZXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkKFwiLmpzLWZvcm0tZXJyb3JzLWlubGluZSAuZXJyb3JcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgZWwgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICBtc25fZXJyb3IgPSBlbC5hdHRyKFwiZGF0YS13ZWJmb3JtLXJlcXVpcmVkLWVycm9yXCIpLFxuICAgICAgICAgICAgICBwYXJlbnQgPSBlbC5wYXJlbnRzKFwiLmZvcm0taXRlbVwiKTtcbiAgICAgICAgICAgIGlmIChlbC5oYXNDbGFzcyhcImpzLWZpZWxkLWVycm9ycy1pbmxpbmVcIikpIHtcbiAgICAgICAgICAgICAgcGFyZW50LmZpbmQoXCIuZWxlbWVudC1tc24tZXJyb3JcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0eXBlb2YgbXNuX2Vycm9yICE9PSB0eXBlb2YgdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgbXNuX2Vycm9yICE9PSBmYWxzZVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZWxlbWVudC1tc24tZXJyb3JcIj4nICsgbXNuX2Vycm9yICsgXCI8L3NwYW4+XCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gcmVsb2FkIHBhZ2Ugb24gY29uZmlybWF0aW9uXG4gICAgICAgICAgaWYgKCQoXCJib2R5XCIpLmZpbmQoXCIud2ViZm9ybS1jb25maXJtYXRpb25cIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVsb2FkX2RvY3VtZW50KDY1MDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICB9O1xufSkoalF1ZXJ5LCBEcnVwYWwsIHRoaXMsIHRoaXMuZG9jdW1lbnQpO1xuIl19
