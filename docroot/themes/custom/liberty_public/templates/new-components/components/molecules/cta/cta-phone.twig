{#
 # Available variables:
 # - cta__base_class - base classname of the wrapper.
 # - cta__modifiers - array of modifiers to add to the base classname of the wrapper.
 # - cta__blockname - blockname prepended to the base classname of the wrapper(s) and each component.
 #
 # - cta__content__base_class - base classname of the copy wrapper - defaults to 'heading'.
 # - cta__content__modifiers - array of modifiers to add to the base classname of the copy wrapper.
 # - cta__content__blockname - blockname prepended to the base classname of the copy wrapper.
 #
 # - cta__heading - the content of the title component.
 # - cta__heading__link - (optional) the url the title should link to. Defaults to cta__link__url.
 # - cta__heading__base_class - base classname of the title component. Defaults to "title".
 # - cta__heading__blockname - blockname to add to the base classname of the title - defaults to cta__base_class.
 # - cta__heading__modifiers - array of modifiers to add to the base classname of the title.
 # - cta__heading__link_base_class - base class to add to the title link - defaults to 'title-link'.
 #
 # - cta__body - the content of the body component.
 # - cta__body__base_class - base classname of the body component. Defaults to "body".
 # - cta__body__modifiers - array of modifiers to add to the base classname of the body.
 #
 # - cta__link__text - the content of the link component.
 # - cta__link__url - the url the link should link to.
 # - cta__link__base_class - base classname of the link component. Defaults to "link".
 # - cta__link__blockname - override link blockname. Defaults to cta__base_class.
 # - cta__link__attributes - array of attribute,value pairs for the link attribute.
 # - cta__link__modifiers - array of modifiers to add to the base classname of the link.
 #}

 {% if not cta__modifiers %}
  {% set cta__modifiers = [] %}
 {% endif %}
{% set cta__base_class = 'cta-phone' %}
{% if not cta__icon__name and  not cta__image__src %}
  {% set cta__modifiers = cta__modifiers|merge(['only-text']) %}
{% endif %}
<div {{ bem(cta__base_class, cta__modifiers, cta__blockname, cta__extra_classes) }}>
  {# Content #}
  {% if cta__icon__name or cta__image__src %}
    <div {{ bem('left', cta__content__modifiers, cta__base_class) }}>

      {% block cta__icon %}
        {% if cta__icon__name %}
          {% include "themes/custom/liberty_public/templates/new-components/components/atoms/images/icons/_icon.twig" with {
                icon_name: cta__icon__name
        } %}
        {% endif %}
      {% endblock %}
      {% block cta__image__src %}
        {% if cta__image__src %}
          {% include "themes/custom/liberty_public/templates/new-components/components/atoms/images/image/responsive-image.twig" with {
            image_blockname: cta__base_class,
            output_image_tag: cta__image__output_image_tag,
            image_src: cta__image__src,
            image_alt: cta__image__alt,
          } %}
        {% endif %}
      {% endblock %}
    </div>
  {% endif %}
  <div {{ bem('right', cta__content__modifiers, cta__base_class) }}>

    {# Heading #}
    {% if cta__heading %}
      {{ title_prefix }}
      {% include "themes/custom/liberty_public/templates/new-components/components/atoms/text/headings/_heading.twig" with {
        heading_base_class: cta__heading__base_class|default('heading'),
        heading_modifiers: cta__heading__modifiers,
        heading_blockname: cta__base_class,
        heading_level: 2,
        heading: cta__heading,
      } %}
      {{ title_suffix }}
    {% endif %}
    {# Body #}
    {% if cta__body %}
      {% include "themes/custom/liberty_public/templates/new-components/components/atoms/links/link/link.twig" with {
        link_base_class: cta__link__base_class|default('body-content'),
        link_blockname: cta__base_class,
        link_attributes: cta__link__attributes,
        link_url: "tel:" ~ cta__body|replace({' ': ''}),
      } %}

    {% endif %}
    {% if cta__body %}
      {% include "themes/custom/liberty_public/templates/new-components/components/atoms/links/link/link.twig" with {
        link_base_class: cta__link__base_class|default('body'),
        link_blockname: cta__base_class,
        link_attributes: cta__link__attributes,
        link_content: cta__body,
        link_url: "tel:" ~ cta__body|replace({' ': ''}),
      } %}

    {% endif %}
    {# Link #}
    {% if cta__link__url %}
      {% include "themes/custom/liberty_public/templates/new-components/components/atoms/links/link/link.twig" with {
        link_base_class: cta__link__base_class|default('link'),
        link_blockname: cta__base_class,
        link_attributes: cta__link__attributes,
        link_content: cta__link__text,
        link_url: cta__link__url,
      } %}
    {% endif %}
  </div>
</div>
